Here is the comprehensive documentation for your EMS (Employee Monitoring System) web application â€” including the new SEMS features (Screen Monitoring, USB Detection, PrintScreen Detection, Unauthorized Website Monitoring), and smart screenshot frequency + admin notification system.


---

ğŸ”· EMPLOYEE MONITORING SYSTEM (EMS) â€” DOCUMENTATION

âœ… OVERVIEW:

A full-stack MERN web application designed to:

Manage employees

Track tasks

Monitor activity for productivity and security

Provide real-time monitoring features



---

ğŸ”§ TECHNOLOGY STACK

Layer	Technology Used

Frontend	React.js
Backend	Node.js, Express.js
Database	MySQL
Authentication	JWT (no email-based auth yet)
Monitoring Agent	Python scripts run on employee machines
File Upload & Cloud	Google Drive API



---

ğŸ”¹ CORE EMS FEATURES

1. Authentication System

Admin and employee login (via role-based routing).

No email/password verification, only role and ID-based redirection.


2. Dashboard System

Admin has access to dashboard for:

Viewing all employees

Assigning tasks

Monitoring updates (task completions, activity)


Employees have:

Personalized dashboard

Task list (view + add)

HRs can assign tasks to others



3. Task Assignment Flow

HR can assign tasks to other employees.

Uses React Router to manage /employee_detail/:id/assign pages.

Tasks are stored in MySQL tasks table.

Task status (complete/incomplete) tracked with checkbox.



---

ğŸ”¹ NEWLY ADDED SEMS FEATURES

To enhance security and monitor employee behavior, we added a Python-based system that integrates with the EMS app backend and runs as a background agent on the employee's computer.


---

ğŸ“¸ 1. SCREEN MONITORING (SEMS)

ğŸ” Frequency

Default screenshot: Every 5 minutes

If suspicious behavior is detected (USB plugin, PrintScreen, Forbidden website):

ğŸ“¸ Screenshot frequency increases to every 30 seconds for 5 minutes

ğŸ›‘ Admin receives a real-time notification in the dashboard



ğŸ§  How it works:

pyautogui captures screenshot

Google Drive API uploads it to a pre-configured drive folder (per user)

Screenshot metadata logged and optionally sent to backend



---

ğŸ”Œ 2. USB DETECTION

Monitors for any new USB device mounted

Triggers alert

Increases screenshot frequency temporarily


import psutil

def detect_usb():
    for device in psutil.disk_partitions():
        if 'removable' in device.opts:
            return True
    return False


---

ğŸ–¼ï¸ 3. PRINTSCREEN DETECTION

Uses pynput to listen to keyboard events

Detects if Print Screen (PrtSc) key is pressed

Triggers screenshot + alert



---

ğŸŒ 4. UNAUTHORIZED WEBSITE DETECTION

Uses watchdog or system APIs to check active browser tabs or window titles

Forbidden list includes:

facebook.com

instagram.com

youtube.com

freefire.com, valorant.com etc.




---

âš ï¸ If any of the above 3 are detected:

def suspicious_activity_detected():
    # PrintScreen, USB, Forbidden website
    increase_screenshot_frequency()
    notify_admin()


---

ğŸ”” 5. ADMIN NOTIFICATION SYSTEM

Admin dashboard will show:

Suspicious activity alert log

List of recent alerts: who triggered it, when, and what triggered it


(Optionally) Email notification or in-app notification for real-time tracking



---

ğŸ—‚ï¸ FILE STRUCTURE (PYTHON AGENT)

/agent
â”‚
â”œâ”€â”€ main.py                  # Entry script
â”œâ”€â”€ drive_upload.py          # Uploads files to Google Drive
â”œâ”€â”€ screenshot.py            # Uses pyautogui to take screenshots
â”œâ”€â”€ monitor_usb.py           # USB detection logic
â”œâ”€â”€ detect_printscreen.py    # Keyboard hook
â”œâ”€â”€ website_checker.py       # Browser tab checker
â”œâ”€â”€ config.json              # Google API credentials + settings
â””â”€â”€ logs/
    â””â”€â”€ activity_log.txt


---

ğŸ”‘ GOOGLE DRIVE SETUP (1-time)

1. Go to Google Cloud Console.


2. Enable Google Drive API.


3. Create OAuth consent screen (internal).


4. Download credentials.json.


5. Share Drive folder with your service account if needed.




---

ğŸ“¦ PYTHON DEPENDENCIES

pip install pyautogui pynput psutil schedule watchdog google-api-python-client google-auth-httplib2 google-auth-oauthlib


---

ğŸ”„ RUNNING THE AGENT

Put the script inside the employeeâ€™s machine and run on startup using:

Windows: Task Scheduler

Linux: Systemd or cron

Mac: launchd


python3 agent/main.py


---

ğŸ“˜ FUTURE IMPROVEMENTS

Employee alert before screenshot

Option to turn off camera/mic access by policy

Email verification with nodemailer

Use WebSocket for live alert push



---

If you'd like, I can generate a PDF document of this entire documentation or prepare backend APIs to receive screenshot logs and suspicious events.

Would you like that next?